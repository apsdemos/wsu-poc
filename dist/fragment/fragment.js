import{d as a}from"../chunks/delayed-CCr1TJIn.js";import{c}from"../chunks/aem-CseYPO2m.js";async function l(t){if(t){const i=await fetch(`${t}.plain.html`);if(i.ok){const e=document.createElement("main");e.innerHTML=await i.text();const n=(o,r)=>{e.querySelectorAll(`${o}[${r}^="./media_"]`).forEach(s=>{s[r]=new URL(s.getAttribute(r),new URL(t,window.location)).href})};return n("img","src"),n("source","srcset"),a(e),await c(e),e}}return null}async function u(t){const i=t.querySelector("a"),e=i?i.getAttribute("href"):t.textContent.trim(),n=await l(e);if(n){const o=n.querySelector(":scope .section");o&&(t.closest(".section").classList.add(...o.classList),t.closest(".fragment").replaceWith(...n.childNodes))}}export{u as default,l as loadFragment};
//# sourceMappingURL=fragment.js.map
