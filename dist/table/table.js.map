{"version":3,"file":"table.js","sources":["../../src/blocks/table/table.js"],"sourcesContent":["/*\n * Table Block\n * Recreate a table\n * https://www.hlx.live/developer/block-collection/table\n */\n\nfunction buildCell(rowIndex) {\n  const cell = rowIndex ? document.createElement('td') : document.createElement('th');\n  if (!rowIndex) cell.setAttribute('scope', 'col');\n  return cell;\n}\n\nexport default async function decorate(block) {\n  const table = document.createElement('table');\n  const thead = document.createElement('thead');\n  const tbody = document.createElement('tbody');\n\n  const header = !block.classList.contains('no-header');\n  if (header) table.append(thead);\n  table.append(tbody);\n\n  [...block.children].forEach((child, i) => {\n    const row = document.createElement('tr');\n    if (header && i === 0) thead.append(row);\n    else tbody.append(row);\n    [...child.children].forEach((col) => {\n      const cell = buildCell(header ? i : i + 1);\n      cell.innerHTML = col.innerHTML;\n      row.append(cell);\n    });\n  });\n  block.innerHTML = '';\n  block.append(table);\n}\n"],"names":["buildCell","rowIndex","cell","decorate","block","table","thead","tbody","header","child","i","row","col"],"mappings":"AAMA,SAASA,EAAUC,EAAU,CAC3B,MAAMC,EAAOD,EAAW,SAAS,cAAc,IAAI,EAAI,SAAS,cAAc,IAAI,EAClF,OAAKA,GAAUC,EAAK,aAAa,QAAS,KAAK,EACxCA,CACT,CAEe,eAAeC,EAASC,EAAO,CAC5C,MAAMC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAQ,SAAS,cAAc,OAAO,EAEtCC,EAAS,CAACJ,EAAM,UAAU,SAAS,WAAW,EAChDI,GAAQH,EAAM,OAAOC,CAAK,EAC9BD,EAAM,OAAOE,CAAK,EAElB,CAAC,GAAGH,EAAM,QAAQ,EAAE,QAAQ,CAACK,EAAOC,IAAM,CACxC,MAAMC,EAAM,SAAS,cAAc,IAAI,EACnCH,GAAUE,IAAM,EAAGJ,EAAM,OAAOK,CAAG,EAClCJ,EAAM,OAAOI,CAAG,EACrB,CAAC,GAAGF,EAAM,QAAQ,EAAE,QAASG,GAAQ,CACnC,MAAMV,EAAOF,EAAUQ,EAASE,EAAIA,EAAI,CAAC,EACzCR,EAAK,UAAYU,EAAI,UACrBD,EAAI,OAAOT,CAAI,CACrB,CAAK,CACL,CAAG,EACDE,EAAM,UAAY,GAClBA,EAAM,OAAOC,CAAK,CACpB"}