{"version":3,"file":"cards.js","sources":["../../src/blocks/cards/cards.js"],"sourcesContent":["import { createOptimizedPicture } from '../../scripts/aem.js';\nimport './cards.css';\n\nexport default function decorate(block) {\n\n\n  const cardsInner = document.createElement('div');\n  cardsInner.classList.add('cards__inner');\n\n  [...block.children].forEach((row) => {\n    const cardDiv = document.createElement('div');\n    cardDiv.classList.add('card');\n\n    const div = row.querySelectorAll('div');\n\n    const imageCol = div[0];\n    const textCol = div[1];\n\n    let imgSrc = '';\n    if (imageCol.querySelector('img')) {\n      imgSrc = imageCol.querySelector('img').src\n    } else {\n      imgSrc = imageCol.innerText.trim();\n    }\n\n    const a = textCol.querySelector('a');\n    const aHref = a ? a.href : '';\n    const aText = a ? a.innerText : textCol.innerText.trim();\n\n    cardDiv.innerHTML = `\n      <div class=\"card\">\n          <a href=\"${aHref}\" alt=\"${aText}\">\n              <div class=\"card-image-container\" >\n                <div class=\"card__image\" style=\"background: url('${imgSrc}') center center / cover;\">\n                </div>\n              </div>\n              <h4>${aText}</h4>\n          </a>\n      </div>\n    `;\n\n\n    cardsInner.appendChild(cardDiv);\n\n  });\n\n  // replace images with optimized versions\n  // ul.querySelectorAll('picture > img').forEach((img) => img.closest('picture').replaceWith(createOptimizedPicture(img.src, img.alt, false, [{ width: '750' }])));\n\n  block.innerHTML = '';\n  block.appendChild(cardsInner);\n}\n"],"names":["decorate","block","cardsInner","row","cardDiv","div","imageCol","textCol","imgSrc","a","aHref","aText"],"mappings":"kCAGe,SAASA,EAASC,EAAO,CAGtC,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,cAAc,EAEvC,CAAC,GAAGD,EAAM,QAAQ,EAAE,QAASE,GAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,MAAM,EAE5B,MAAMC,EAAMF,EAAI,iBAAiB,KAAK,EAEhCG,EAAWD,EAAI,CAAC,EAChBE,EAAUF,EAAI,CAAC,EAErB,IAAIG,EAAS,GACTF,EAAS,cAAc,KAAK,EAC9BE,EAASF,EAAS,cAAc,KAAK,EAAE,IAEvCE,EAASF,EAAS,UAAU,KAAM,EAGpC,MAAMG,EAAIF,EAAQ,cAAc,GAAG,EAC7BG,EAAQD,EAAIA,EAAE,KAAO,GACrBE,EAAQF,EAAIA,EAAE,UAAYF,EAAQ,UAAU,KAAM,EAExDH,EAAQ,UAAY;AAAA;AAAA,qBAEHM,CAAK,UAAUC,CAAK;AAAA;AAAA,mEAE0BH,CAAM;AAAA;AAAA;AAAA,oBAGrDG,CAAK;AAAA;AAAA;AAAA,MAMrBT,EAAW,YAAYE,CAAO,CAElC,CAAG,EAKDH,EAAM,UAAY,GAClBA,EAAM,YAAYC,CAAU,CAC9B"}