{"version":3,"file":"cards.js","sources":["../../src/blocks/cards/cards.js"],"sourcesContent":["import { createOptimizedPicture } from '../../scripts/aem.js';\nimport './cards.css';\n\nexport default function decorate(block) {\n  const cardsInner = document.createElement('div');\n  cardsInner.classList.add('cards__inner');\n\n  [...block.children].forEach((row) => {\n    const cardDiv = document.createElement('div');\n    cardDiv.classList.add('card');\n    const paragraphs = row.querySelectorAll('p');\n    const a = paragraphs[1].querySelector('a');\n    const aHref = a ? a.href : '';\n    const aText = a ? a.innerText : paragraphs[1].innerText.trim();\n    const mediaImage = paragraphs[0].querySelector('picture');\n\n    cardDiv.innerHTML = `\n      <div class=\"card\">\n          <a href=\"${aHref}\" alt=\"${aText}\">\n              <div class=\"card-image-container\">\n                ${mediaImage.outerHTML}\n              </div>\n              <h4>${aText}</h4>\n          </a>\n      </div>\n    `;\n    cardsInner.appendChild(cardDiv);\n\n  });\n\n  cardsInner.querySelectorAll('picture > img').forEach((img) => img.closest('picture').replaceWith(createOptimizedPicture(img.src, img.alt, false, [{ width: '400', height: \"333\" }])));\n\n  block.innerHTML = '';\n  block.appendChild(cardsInner);\n}\n"],"names":["decorate","block","cardsInner","row","cardDiv","paragraphs","a","aHref","aText","mediaImage","img","createOptimizedPicture"],"mappings":"8CAGe,SAASA,EAASC,EAAO,CACtC,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,cAAc,EAEvC,CAAC,GAAGD,EAAM,QAAQ,EAAE,QAASE,GAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,MAAM,EAC5B,MAAMC,EAAaF,EAAI,iBAAiB,GAAG,EACrCG,EAAID,EAAW,CAAC,EAAE,cAAc,GAAG,EACnCE,EAAQD,EAAIA,EAAE,KAAO,GACrBE,EAAQF,EAAIA,EAAE,UAAYD,EAAW,CAAC,EAAE,UAAU,KAAM,EACxDI,EAAaJ,EAAW,CAAC,EAAE,cAAc,SAAS,EAExDD,EAAQ,UAAY;AAAA;AAAA,qBAEHG,CAAK,UAAUC,CAAK;AAAA;AAAA,kBAEvBC,EAAW,SAAS;AAAA;AAAA,oBAElBD,CAAK;AAAA;AAAA;AAAA,MAIrBN,EAAW,YAAYE,CAAO,CAElC,CAAG,EAEDF,EAAW,iBAAiB,eAAe,EAAE,QAASQ,GAAQA,EAAI,QAAQ,SAAS,EAAE,YAAYC,EAAuBD,EAAI,IAAKA,EAAI,IAAK,GAAO,CAAC,CAAE,MAAO,MAAO,OAAQ,KAAO,CAAA,CAAC,CAAC,CAAC,EAEpLT,EAAM,UAAY,GAClBA,EAAM,YAAYC,CAAU,CAC9B"}