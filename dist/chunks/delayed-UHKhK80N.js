const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./sidekick-D3nI8jOZ.js","./aem-D3RMVdVl.js"])))=>i.map(i=>d[i]);
import{_ as n,i as p,h as f,j as h,s as _,c as w,k as y,m as E,l as d,n as g,e as v,o as S,r as I,t as P,p as b,b as L,w as k}from"./aem-D3RMVdVl.js";function D(e){const t=e.querySelector("h1"),a=e.querySelector("picture");if(t&&a&&t.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_PRECEDING){const o=document.createElement("div");o.append(L("hero",{elems:[a,t]})),e.prepend(o)}}async function u(){await d(`${window.hlx.codeBasePath}/src/styles/fonts.css`);try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch{}}function O(e){e.addEventListener("click",async t=>{const a=t.target.closest("a");if(a&&a.href&&a.href.includes("/modals/")){t.preventDefault();const{openModal:o}=await n(async()=>{const{openModal:i}=await import(`${window.hlx.codeBasePath}/blocks/modal/modal.js`);return{openModal:i}},[],import.meta.url);o(a.href)}})}function T(e){try{e.querySelector(".hero")||D(e)}catch(t){console.error("Auto Blocking failed",t)}}function x(e){e.querySelectorAll(":scope > div").forEach(t=>{const a=[];let o=!1;[...t.children].forEach(s=>{if(s.classList.contains("richtext")){if(s.removeAttribute("class"),!o){const r=document.createElement("div");r.classList.add("default-content-wrapper"),a.push(r),o=!0}}else if(s.tagName==="DIV"||!o){const r=document.createElement("div");a.push(r),o=s.tagName!=="DIV",o&&r.classList.add("default-content-wrapper")}a[a.length-1].append(s)}),a.forEach(s=>t.append(s)),t.classList.add("section"),t.dataset.sectionStatus="initialized",t.style.display="none";const i=t.querySelector("div.section-metadata");if(i){const s=I(i);Object.keys(s).forEach(r=>{r==="style"?s.style.split(",").filter(c=>c).map(c=>P(c.trim())).forEach(c=>t.classList.add(c)):t.dataset[b(r)]=s[r]}),i.parentNode.remove()}})}function A(e){g(e),v(e),T(e),x(e),S(e)}async function B(e){e.documentElement.lang="en",p(),f("breadcrumbs").toLowerCase()==="true"&&(e.body.dataset.breadcrumbs=!0);const t=e.querySelector("main");t&&(A(t),e.body.classList.add("appear"),await h(t.querySelector(".section"),k)),_.enhance();try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&u()}catch{}}async function q(e){O(e);const t=e.querySelector("main");await w(t);const{hash:a}=window.location,o=a?e.getElementById(a.substring(1)):!1;a&&o&&o.scrollIntoView(),y(e.querySelector("header")),E(e.querySelector("footer")),d(`${window.hlx.codeBasePath}/src/styles/lazy-styles.css`),u()}function N(){window.setTimeout(()=>n(()=>Promise.resolve().then(()=>j),void 0,import.meta.url),3e3)}async function R(){if(document.querySelector("aem-sidekick")){n(()=>import("./sidekick-D3nI8jOZ.js"),__vite__mapDeps([0,1]),import.meta.url);return}document.addEventListener("sidekick-ready",()=>{n(()=>import("./sidekick-D3nI8jOZ.js"),__vite__mapDeps([0,1]),import.meta.url)})}async function m(){await B(document),await q(document),N(),R()}window.location.hostname.includes("ue.da.live")&&await n(async()=>{const{default:e}=await import(`${window.hlx.codeBasePath}/ue/scripts/ue.js`);return{default:e}},[],import.meta.url).then(({default:e})=>e());m();const{searchParams:l,origin:V}=new URL(window.location.href),C=l.get("nx")||"main",M=C==="local"||V.includes("localhost")?"http://localhost:6456/nx":"https://da.live/nx";(async function(){l.get("dapreview")&&n(async()=>{const{default:t}=await import("https://da.live/scripts/dapreview.js");return{default:t}},[],import.meta.url).then(({default:t})=>t(m)),l.get("daexperiment")&&n(()=>import(`${M}/public/plugins/exp/exp.js`),[],import.meta.url)})();const j=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{M as N,A as d};
//# sourceMappingURL=delayed-UHKhK80N.js.map
