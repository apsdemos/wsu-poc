{"version":3,"mappings":"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","names":["sampleRUM","checkpoint","data","timeShift","param","weight","id","isSelected","args","dataFromErrorObj","error","errData","line","reason","ck","time","pingData","rumData","urlParams","url","origin","body","enhancerVersion","enhancerHash","script","setup","mainScriptDestination","scriptEl","scriptURL","init","toClassName","name","toCamelCase","g","readBlockConfig","block","config","row","cols","col","value","as","a","imgs","img","ps","p","loadCSS","href","resolve","reject","link","getMetadata","doc","attr","m","createOptimizedPicture","src","alt","eager","breakpoints","picture","pathname","ext","br","source","i","decorateTemplateAndTheme","addClasses","element","classes","c","template","theme","wrapTextNodes","validWrappers","wrap","el","wrapper","nodeName","nodeValue","blockColumn","tagName","decorateButtons","up","twoup","decorateIcon","span","iconsList","prefix","iconName","imagePath","response","svgText","svgDoc","decorateIcons","fetchPlaceholders","resp","pathData","globalPlaceholderPath","item","localData","globalData","placeholders","buildBlock","blockName","content","table","blockEl","rowEl","colEl","val","loadBlock","status","decorationComplete","mod","__variableDynamicImportRuntimeHelper","__vitePreload","decorateBlock","shortBlockName","section","decorateBlocks","main","loadHeader","header","headerBlock","loadFooter","footer","footerBlock","waitForFirstImage","lcpCandidate","loadSection","loadCallback","blocks","loadSections","sections"],"ignoreList":[],"sources":["../../src/scripts/constants.js","../../src/scripts/aem.js"],"sourcesContent":["/**\n * Check if the current environment is author mode\n */\n\n// eslint-disable-next-line import/prefer-default-export\nexport const IS_AUTHOR_MODE = window.location.hostname.includes('adobeaemcloud.com');\n\nexport const SECTION_STYLES = {\n  background: [\n  ],\n};\n","/*\n * Copyright 2024 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/* eslint-env browser */\n\nimport { SECTION_STYLES } from './constants.js';\n\nfunction sampleRUM(checkpoint, data) {\n  // eslint-disable-next-line max-len\n  const timeShift = () => (window.performance\n    ? window.performance.now()\n    : Date.now() - window.hlx.rum.firstReadTime);\n  try {\n    window.hlx = window.hlx || {};\n    sampleRUM.enhance = () => { };\n    if (!window.hlx.rum) {\n      const param = new URLSearchParams(window.location.search).get('rum');\n      const weight = (window.SAMPLE_PAGEVIEWS_AT_RATE === 'high' && 10)\n        || (window.SAMPLE_PAGEVIEWS_AT_RATE === 'low' && 1000)\n        || (param === 'on' && 1)\n        || 100;\n      const id = Math.random().toString(36).slice(-4);\n      const isSelected = param !== 'off' && Math.random() * weight < 1;\n      // eslint-disable-next-line object-curly-newline, max-len\n      window.hlx.rum = {\n        weight,\n        id,\n        isSelected,\n        firstReadTime: window.performance\n          ? window.performance.timeOrigin\n          : Date.now(),\n        sampleRUM,\n        queue: [],\n        collector: (...args) => window.hlx.rum.queue.push(args),\n      };\n      if (isSelected) {\n        const dataFromErrorObj = (error) => {\n          const errData = { source: 'undefined error' };\n          try {\n            errData.target = error.toString();\n            errData.source = error.stack\n              .split('\\n')\n              .filter((line) => line.match(/https?:\\/\\//))\n              .shift()\n              .replace(/at ([^ ]+) \\((.+)\\)/, '$1@$2')\n              .replace(/ at /, '@')\n              .trim();\n          } catch (err) {\n            /* error structure was not as expected */\n          }\n          return errData;\n        };\n\n        window.addEventListener('error', ({ error }) => {\n          const errData = dataFromErrorObj(error);\n          sampleRUM('error', errData);\n        });\n\n        window.addEventListener('unhandledrejection', ({ reason }) => {\n          let errData = {\n            source: 'Unhandled Rejection',\n            target: reason || 'Unknown',\n          };\n          if (reason instanceof Error) {\n            errData = dataFromErrorObj(reason);\n          }\n          sampleRUM('error', errData);\n        });\n\n        sampleRUM.baseURL = sampleRUM.baseURL\n          || new URL(window.RUM_BASE || '/', new URL('https://rum.hlx.page'));\n        sampleRUM.collectBaseURL = sampleRUM.collectBaseURL || sampleRUM.baseURL;\n        sampleRUM.sendPing = (ck, time, pingData = {}) => {\n          // eslint-disable-next-line max-len, object-curly-newline\n          const rumData = JSON.stringify({\n            weight,\n            id,\n            referer: window.location.href,\n            checkpoint: ck,\n            t: time,\n            ...pingData,\n          });\n          const urlParams = window.RUM_PARAMS\n            ? `?${new URLSearchParams(window.RUM_PARAMS).toString()}`\n            : '';\n          const { href: url, origin } = new URL(\n            `.rum/${weight}${urlParams}`,\n            sampleRUM.collectBaseURL,\n          );\n          const body = origin === window.location.origin\n            ? new Blob([rumData], { type: 'application/json' })\n            : rumData;\n          navigator.sendBeacon(url, body);\n          // eslint-disable-next-line no-console\n          console.debug(`ping:${ck}`, pingData);\n        };\n        sampleRUM.sendPing('top', timeShift());\n\n        sampleRUM.enhance = () => {\n          // only enhance once\n          if (document.querySelector('script[src*=\"rum-enhancer\"]')) return;\n          const { enhancerVersion, enhancerHash } = sampleRUM.enhancerContext || {};\n          const script = document.createElement('script');\n          if (enhancerHash) {\n            script.integrity = enhancerHash;\n            script.setAttribute('crossorigin', 'anonymous');\n          }\n          script.src = new URL(\n            `.rum/@adobe/helix-rum-enhancer@${enhancerVersion || '^2'\n            }/src/index.js`,\n            sampleRUM.baseURL,\n          ).href;\n          document.head.appendChild(script);\n        };\n        if (!window.hlx.RUM_MANUAL_ENHANCE) {\n          sampleRUM.enhance();\n        }\n      }\n    }\n    if (window.hlx.rum && window.hlx.rum.isSelected && checkpoint) {\n      window.hlx.rum.collector(checkpoint, data, timeShift());\n    }\n    document.dispatchEvent(\n      new CustomEvent('rum', { detail: { checkpoint, data } }),\n    );\n  } catch (error) {\n    // something went awry\n  }\n}\n\n/**\n * Setup block utils.\n */\nfunction setup() {\n  window.hlx = window.hlx || {};\n  window.hlx.RUM_MASK_URL = 'full';\n  window.hlx.RUM_MANUAL_ENHANCE = true;\n  window.hlx.codeBasePath = '';\n  window.hlx.lighthouse = new URLSearchParams(window.location.search).get('lighthouse') === 'on';\n\n  const mainScriptDestination = '/dist/main/main.js';\n  const scriptEl = document.querySelector(\n    `script[src$=\"${mainScriptDestination}\"]`,\n  );\n  if (scriptEl) {\n    try {\n      const scriptURL = new URL(scriptEl.src, window.location);\n      if (scriptURL.host === window.location.host) {\n        [window.hlx.codeBasePath] = scriptURL.pathname.split(\n          mainScriptDestination,\n        );\n      } else {\n        [window.hlx.codeBasePath] = scriptURL.href.split(mainScriptDestination);\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  }\n}\n\n/**\n * Auto initializiation.\n */\n\nfunction init() {\n  // skip if in vite's test mode\n  if (typeof process !== 'undefined' && process?.env?.VITEST) {\n    return;\n  }\n\n  setup();\n  sampleRUM();\n}\n\n/**\n * Sanitizes a string for use as class name.\n * @param {string} name The unsanitized string\n * @returns {string} The class name\n */\nfunction toClassName(name) {\n  return typeof name === 'string'\n    ? name\n      .toLowerCase()\n      .replace(/[^0-9a-z]/gi, '-')\n      .replace(/--+/g, '--')\n      .replace(/^-|-$/g, '')\n    : '';\n}\n\n/**\n * Sanitizes a string for use as a js property name.\n * @param {string} name The unsanitized string\n * @returns {string} The camelCased name\n */\nfunction toCamelCase(name) {\n  return toClassName(name).replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n}\n\n/**\n * Extracts the config from a block.\n * @param {Element} block The block element\n * @returns {object} The block config\n */\n// eslint-disable-next-line import/prefer-default-export\nfunction readBlockConfig(block) {\n  const config = {};\n  block.querySelectorAll(':scope > div').forEach((row) => {\n    if (row.children) {\n      const cols = [...row.children];\n      if (cols[1]) {\n        const col = cols[1];\n        const name = toClassName(cols[0].textContent);\n        let value = '';\n        if (col.querySelector('a')) {\n          const as = [...col.querySelectorAll('a')];\n          if (as.length === 1) {\n            value = as[0].href;\n          } else {\n            value = as.map((a) => a.href);\n          }\n        } else if (col.querySelector('img')) {\n          const imgs = [...col.querySelectorAll('img')];\n          if (imgs.length === 1) {\n            value = imgs[0].src;\n          } else {\n            value = imgs.map((img) => img.src);\n          }\n        } else if (col.querySelector('p')) {\n          const ps = [...col.querySelectorAll('p')];\n          if (ps.length === 1) {\n            value = ps[0].textContent;\n          } else {\n            value = ps.map((p) => p.textContent);\n          }\n        } else value = row.children[1].textContent;\n        config[name] = value;\n      }\n    }\n  });\n  return config;\n}\n\n/**\n * Loads a CSS file.\n * @param {string} href URL to the CSS file\n */\nasync function loadCSS(href) {\n  return new Promise((resolve, reject) => {\n    if (!document.querySelector(`head > link[href=\"${href}\"]`)) {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = href;\n      link.onload = resolve;\n      link.onerror = reject;\n      document.head.append(link);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Loads a non module JS file.\n * @param {string} src URL to the JS file\n * @param {Object} attrs additional optional attributes\n */\nasync function loadScript(src, attrs) {\n  return new Promise((resolve, reject) => {\n    if (!document.querySelector(`head > script[src=\"${src}\"]`)) {\n      const script = document.createElement('script');\n      script.src = src;\n      if (attrs) {\n        // eslint-disable-next-line no-restricted-syntax, guard-for-in\n        for (const attr in attrs) {\n          script.setAttribute(attr, attrs[attr]);\n        }\n      }\n      script.onload = resolve;\n      script.onerror = reject;\n      document.head.append(script);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Retrieves the content of metadata tags.\n * @param {string} name The metadata name (or property)\n * @param {Document} doc Document object to query for metadata. Defaults to the window's document\n * @returns {string} The metadata value(s)\n */\nfunction getMetadata(name, doc = document) {\n  const attr = name && name.includes(':') ? 'property' : 'name';\n  const meta = [...doc.head.querySelectorAll(`meta[${attr}=\"${name}\"]`)]\n    .map((m) => m.content)\n    .join(', ');\n  return meta || '';\n}\n\n/**\n * Returns a picture element with webp and fallbacks\n * @param {string} src The image URL\n * @param {string} [alt] The image alternative text\n * @param {boolean} [eager] Set loading attribute to eager\n * @param {Array} [breakpoints] Breakpoints and corresponding params (eg. width)\n * @returns {Element} The picture element\n */\nfunction createOptimizedPicture(\n  src,\n  alt = '',\n  eager = false,\n  breakpoints = [\n    { media: '(min-width: 600px)', width: '2000' },\n    { width: '750' },\n  ],\n) {\n  const url = !src.startsWith('http') ? new URL(src, window.location.href) : new URL(src);\n  const picture = document.createElement('picture');\n  const { origin, pathname } = url;\n  const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n\n  // webp\n  breakpoints.forEach((br) => {\n    const source = document.createElement('source');\n    if (br.media) source.setAttribute('media', br.media);\n    source.setAttribute('type', 'image/webp');\n    source.setAttribute(\n      'srcset',\n      `${origin}${pathname}?width=${br.width}&format=webply&optimize=medium`,\n    );\n    picture.appendChild(source);\n  });\n\n  // fallback\n  breakpoints.forEach((br, i) => {\n    if (i < breakpoints.length - 1) {\n      const source = document.createElement('source');\n      if (br.media) source.setAttribute('media', br.media);\n      source.setAttribute(\n        'srcset',\n        `${origin}${pathname}?width=${br.width}&format=${ext}&optimize=medium`,\n      );\n      picture.appendChild(source);\n    } else {\n      const img = document.createElement('img');\n      img.setAttribute('loading', eager ? 'eager' : 'lazy');\n      img.setAttribute('alt', alt);\n      picture.appendChild(img);\n      img.setAttribute(\n        'src',\n        `${origin}${pathname}?width=${br.width}&format=${ext}&optimize=medium`,\n      );\n    }\n  });\n\n  return picture;\n}\n\n/**\n * Set template (page structure) and theme (page styles).\n */\nfunction decorateTemplateAndTheme() {\n  const addClasses = (element, classes) => {\n    classes.split(',').forEach((c) => {\n      element.classList.add(toClassName(c.trim()));\n    });\n  };\n  const template = getMetadata('template');\n  if (template) addClasses(document.body, template);\n\n  let theme = getMetadata('theme');\n  if (theme && !theme.startsWith('theme-')) {\n    theme = `theme-${theme}`;\n  }\n\n  if (theme) addClasses(document.body, theme);\n}\n\n/**\n * Wrap inline text content of block cells within a <p> tag.\n * @param {Element} block the block element\n */\nfunction wrapTextNodes(block) {\n  const validWrappers = [\n    'P',\n    'PRE',\n    'UL',\n    'OL',\n    'PICTURE',\n    'TABLE',\n    'H1',\n    'H2',\n    'H3',\n    'H4',\n    'H5',\n    'H6',\n  ];\n\n  const wrap = (el) => {\n    const wrapper = document.createElement('p');\n    wrapper.append(...el.childNodes);\n    [...el.attributes]\n      // move the instrumentation from the cell to the new paragraph, also keep the class\n      // in case the content is a buttton and the cell the button-container\n      .filter(\n        ({ nodeName }) => nodeName === 'class'\n          || nodeName.startsWith('data-aue')\n          || nodeName.startsWith('data-richtext'),\n      )\n      .forEach(({ nodeName, nodeValue }) => {\n        wrapper.setAttribute(nodeName, nodeValue);\n        el.removeAttribute(nodeName);\n      });\n    el.append(wrapper);\n  };\n\n  block.querySelectorAll(':scope > div > div').forEach((blockColumn) => {\n    if (blockColumn.hasChildNodes()) {\n      const hasWrapper = !!blockColumn.firstElementChild\n        && validWrappers.some(\n          (tagName) => blockColumn.firstElementChild.tagName === tagName,\n        );\n      if (!hasWrapper) {\n        wrap(blockColumn);\n      } else if (\n        blockColumn.firstElementChild.tagName === 'PICTURE'\n        && (blockColumn.children.length > 1 || !!blockColumn.textContent.trim())\n      ) {\n        wrap(blockColumn);\n      }\n    }\n  });\n}\n\n/**\n * Decorates paragraphs containing a single link as buttons.\n * @param {Element} element container element\n */\nfunction decorateButtons(element) {\n  element.querySelectorAll('a').forEach((a) => {\n    a.title = a.title || a.textContent;\n    if (a.href !== a.textContent) {\n      const up = a.parentElement;\n      const twoup = a.parentElement.parentElement;\n      if (!a.querySelector('img')) {\n        if (\n          up.childNodes.length === 1\n          && (up.tagName === 'P' || up.tagName === 'DIV')\n        ) {\n          a.className = 'button'; // default\n          up.classList.add('button-container');\n        }\n        if (\n          up.childNodes.length === 1\n          && up.tagName === 'STRONG'\n          && twoup.childNodes.length === 1\n          && twoup.tagName === 'P'\n        ) {\n          a.className = 'button primary';\n          twoup.classList.add('button-container');\n        }\n        if (\n          up.childNodes.length === 1\n          && up.tagName === 'EM'\n          && twoup.childNodes.length === 1\n          && twoup.tagName === 'P'\n        ) {\n          a.className = 'button secondary';\n          twoup.classList.add('button-container');\n        }\n      }\n    }\n  });\n}\n\n/**\n * Add material icon or SVG icon to a span element\n * @param {Element} span - The span element to decorate\n * @param {Array} iconsList - List of available SVG icons\n * @param {string} prefix - Optional prefix for icon path\n */\nasync function decorateIcon(span, iconsList, prefix = '') {\n  // Extract icon name from the class (icon-name → name)\n  const iconName = Array.from(span.classList)\n    .find((c) => c.startsWith('icon-'))\n    ?.substring(5);\n\n  if (!iconName) return;\n\n  // For SVG icons in the iconsList\n  if (iconsList.includes(iconName)) {\n    try {\n      const imagePath = `${window.hlx.codeBasePath}${prefix}/icons/${iconName}.svg`;\n      const response = await fetch(imagePath);\n      if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);\n      const svgText = await response.text();\n      const parser = new DOMParser();\n      const svgDoc = parser.parseFromString(\n        svgText,\n        'image/svg+xml',\n      ).documentElement;\n      span.innerHTML = svgDoc.outerHTML;\n    } catch (error) {\n      console.error(`Failed to load SVG icon: ${iconName}`, error);\n    }\n  } else {\n    // Store icon name in data attribute instead of text content\n    span.setAttribute('data-icon', iconName);\n\n    // Clear any existing text to avoid duplication\n    span.textContent = '';\n\n    // There is a bug in universal editor where if the span has no content,\n    // it will be removed from the DOM.\n    // This is a workaround to ensure the icon is always visible.\n    if (document.querySelector('[data-aue-resource]')) {\n      const img = document.createElement('img');\n      img.dataset.iconName = iconName;\n      img.classList.add('display-none');\n      // Use a 1x1 transparent pixel data URI instead of loading an external SVG\n      img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n      img.width = 1;\n      img.height = 1;\n      img.alt = '';\n      span.append(img);\n    }\n  }\n}\n\n/**\n * Decorate all icon spans in an element\n * @param {Element} element - Element containing icons\n * @param {string} prefix - Optional prefix for icon path\n */\nfunction decorateIcons(element, prefix = '') {\n  // List of available SVG icons\n  const iconsList = ['twitter', 'linkedin', 'facebook'];\n\n  // Find all spans with the icon class\n  const icons = [...element.querySelectorAll('span.icon')];\n\n  // Process each icon\n  icons.forEach((span) => {\n    decorateIcon(span, iconsList, prefix);\n  });\n}\n\n/**\n * Decorates all sections in a container element.\n * @param {Element} main The container element\n */\nfunction decorateSections(main) {\n  main\n    .querySelectorAll(':scope > div:not([data-section-status])')\n    .forEach((section) => {\n      const wrappers = [];\n      let defaultContent = false;\n      [...section.children].forEach((e) => {\n        if ((e.tagName === 'DIV' && e.className) || !defaultContent) {\n          const wrapper = document.createElement('div');\n          wrappers.push(wrapper);\n          defaultContent = e.tagName !== 'DIV' || !e.className;\n          if (defaultContent) wrapper.classList.add('default-content-wrapper');\n        }\n        wrappers[wrappers.length - 1].append(e);\n      });\n      wrappers.forEach((wrapper) => section.append(wrapper));\n      section.classList.add('section', 'nsw-section');\n\n      section.dataset.sectionStatus = 'initialized';\n      section.style.display = 'none';\n\n      // Process section metadata\n      const sectionMeta = section.querySelector('div.section-metadata');\n      if (sectionMeta) {\n        const meta = readBlockConfig(sectionMeta);\n        Object.keys(meta).forEach((key) => {\n          const lowerCaseKey = key.toLowerCase();\n          const styles = SECTION_STYLES[lowerCaseKey];\n          const style = styles?.find((s) => s.name.toLowerCase() === meta[key].toLowerCase());\n\n          if (style) {\n            section.classList.add(style.value);\n          } else {\n            // add the key to the section as a data attribute for easier debugging\n            section.dataset[toCamelCase(key)] = meta[key];\n          }\n        });\n\n        if (section.classList.contains('nsw-section--brand-dark') || section.classList.contains('nsw-section--brand-supplementary')) {\n          section.classList.add('nsw-section--invert');\n        }\n\n        sectionMeta.parentNode.remove();\n      }\n    });\n}\n\n/**\n * Gets placeholders object.\n * @param {string} [prefix] Location of placeholders\n * @returns {object} Window placeholders object\n */\n// eslint-disable-next-line import/prefer-default-export\nasync function fetchPlaceholders(prefix = 'default') {\n  window.placeholders = window.placeholders || {};\n\n  if (!window.placeholders[prefix]) {\n    window.placeholders[prefix] = new Promise((resolve) => {\n      fetch(`${prefix === 'default' ? '' : prefix}/.nsw/config.json`)\n        .then((resp) => (resp.ok ? resp.json() : { path: '' }))\n        .then((pathData) => {\n          const globalPlaceholderPath = pathData.data.find((item) => item.Key === 'global-placeholders')?.Text || '';\n          return Promise.all([\n            // Fetch local placeholders\n            fetch(`${prefix === 'default' ? '' : prefix}/placeholders.json`)\n              .then((resp) => (resp.ok ? resp.json() : { data: [] }))\n              .catch(() => ({ data: [] })),\n            // Fetch global placeholders using the path received\n            fetch(globalPlaceholderPath)\n              .then((resp) => (resp.ok ? resp.json() : { data: [] }))\n              .catch(() => ({ data: [] })),\n          ]);\n        })\n        .then(([localData, globalData]) => {\n          const placeholders = {};\n\n          // Process global placeholders first\n          globalData.data\n            .filter((item) => item.Key)\n            .forEach((item) => {\n              placeholders[toCamelCase(item.Key)] = item.Text;\n            });\n\n          // Override with local placeholders if any\n          localData.data\n            .filter((item) => item.Key)\n            .forEach((item) => {\n              placeholders[toCamelCase(item.Key)] = item.Text;\n            });\n\n          window.placeholders[prefix] = placeholders;\n          resolve(window.placeholders[prefix]);\n        })\n        .catch(() => {\n          // In case of an error, fallback to empty object\n          window.placeholders[prefix] = {};\n          resolve(window.placeholders[prefix]);\n        });\n    });\n  }\n\n  return window.placeholders[prefix];\n}\n\n/**\n * Gets config object.\n * @param {string} [prefix] Location of config\n * @returns {object} Window config object\n */\n// eslint-disable-next-line import/prefer-default-export\nasync function fetchConfig(prefix = 'default') {\n  window.nswConfig = window.nswConfig || {};\n\n  if (!window.nswConfig[prefix]) {\n    window.nswConfig[prefix] = new Promise((resolve) => {\n      // Fetch the path of the global config file\n      fetch(`${prefix === 'default' ? '' : prefix}/.nsw/config.json`)\n        .then((resp) => (resp.ok ? resp.json() : { path: '' }))\n        .then((pathData) => {\n          const globalConfigPath = pathData.data.find((item) => item.Key === 'global-config')?.Text || '';\n\n          return Promise.all([\n            // Fetch local config\n            fetch(`${prefix === 'default' ? '' : prefix}/config.json`)\n              .then((resp) => (resp.ok ? resp.json() : { data: [] }))\n              .catch(() => ({ data: [] })),\n            // Fetch global config using the path received\n            fetch(globalConfigPath)\n              .then((resp) => (resp.ok ? resp.json() : { data: [] }))\n              .catch(() => ({ data: [] })),\n          ]);\n        })\n        .then(([localData, globalData]) => {\n          const config = {};\n\n          // Process global config first\n          globalData.data\n            .filter((item) => item.Key)\n            .forEach((item) => {\n              config[toCamelCase(item.Key)] = item.Text;\n            });\n\n          // Override with local config if any\n          localData.data\n            .filter((item) => item.Key)\n            .forEach((item) => {\n              config[toCamelCase(item.Key)] = item.Text;\n            });\n\n          window.nswConfig[prefix] = config;\n          resolve(window.nswConfig[prefix]);\n        })\n        .catch(() => {\n          // In case of an error, fallback to empty object\n          window.nswConfig[prefix] = {};\n          resolve(window.nswConfig[prefix]);\n        });\n    });\n  }\n\n  return window.nswConfig[prefix];\n}\n\n/**\n * Builds a block DOM Element from a two dimensional array, string, or object\n * @param {string} blockName name of the block\n * @param {*} content two dimensional array or string or object of content\n */\nfunction buildBlock(blockName, content) {\n  const table = Array.isArray(content) ? content : [[content]];\n  const blockEl = document.createElement('div');\n  // build image block nested div structure\n  blockEl.classList.add(blockName);\n  table.forEach((row) => {\n    const rowEl = document.createElement('div');\n    row.forEach((col) => {\n      const colEl = document.createElement('div');\n      const vals = col.elems ? col.elems : [col];\n      vals.forEach((val) => {\n        if (val) {\n          if (typeof val === 'string') {\n            colEl.innerHTML += val;\n          } else {\n            colEl.appendChild(val);\n          }\n        }\n      });\n      rowEl.appendChild(colEl);\n    });\n    blockEl.appendChild(rowEl);\n  });\n  return blockEl;\n}\n\n/**\n * Loads JS and CSS for a block.\n * @param {Element} block The block element\n */\nasync function loadBlock(block) {\n  const status = block.dataset.blockStatus;\n  if (status !== 'loading' && status !== 'loaded') {\n    block.dataset.blockStatus = 'loading';\n    const { blockName } = block.dataset;\n    try {\n      const decorationComplete = new Promise((resolve) => {\n        (async () => {\n          try {\n            const mod = await import(`Blocks/${blockName}/${blockName}.js`);\n            if (mod.default) {\n              await mod.default(block);\n            }\n          } catch (error) {\n            // eslint-disable-next-line no-console\n            console.log(`failed to load module for ${blockName}`, error);\n          }\n          resolve();\n        })();\n      });\n      await Promise.all([decorationComplete]);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(`failed to load block ${blockName}`, error);\n    }\n    block.dataset.blockStatus = 'loaded';\n  }\n  return block;\n}\n\n/**\n * Decorates a block.\n * @param {Element} block The block element\n */\nfunction decorateBlock(block) {\n  const shortBlockName = block.classList[0];\n  if (shortBlockName && !block.dataset.blockStatus) {\n    block.classList.add('block');\n    block.dataset.blockName = shortBlockName;\n    block.dataset.blockStatus = 'initialized';\n    wrapTextNodes(block);\n    const blockWrapper = block.parentElement;\n    blockWrapper.classList.add(`${shortBlockName}-wrapper`);\n    const section = block.closest('.section');\n    if (section) section.classList.add(`${shortBlockName}-container`);\n    // eslint-disable-next-line no-use-before-define\n    decorateButtons(block);\n  }\n}\n\n/**\n * Decorates all blocks in a container element.\n * @param {Element} main The container element\n */\nfunction decorateBlocks(main) {\n  main.querySelectorAll('div.section > div > div').forEach(decorateBlock);\n}\n\n/**\n * Loads a block named 'header' into header\n * @param {Element} header header element\n * @returns {Promise}\n */\nasync function loadHeader(header) {\n  const headerBlock = buildBlock('header', '');\n  header.append(headerBlock);\n  decorateBlock(headerBlock);\n  return loadBlock(headerBlock);\n}\n\n/**\n * Loads a block named 'footer' into footer\n * @param footer footer element\n * @returns {Promise}\n */\nasync function loadFooter(footer) {\n  const footerBlock = buildBlock('footer', '');\n  footer.append(footerBlock);\n  decorateBlock(footerBlock);\n  return loadBlock(footerBlock);\n}\n\n/**\n * Wait for Image.\n * @param {Element} section section element\n */\nasync function waitForFirstImage(section) {\n  const lcpCandidate = section.querySelector('img');\n  await new Promise((resolve) => {\n    if (lcpCandidate && !lcpCandidate.complete) {\n      lcpCandidate.setAttribute('loading', 'eager');\n      lcpCandidate.addEventListener('load', resolve);\n      lcpCandidate.addEventListener('error', resolve);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Loads all blocks in a section.\n * @param {Element} section The section element\n */\n\nasync function loadSection(section, loadCallback) {\n  const status = section.dataset.sectionStatus;\n  if (!status || status === 'initialized') {\n    section.dataset.sectionStatus = 'loading';\n    const blocks = [...section.querySelectorAll('div.block')];\n    for (let i = 0; i < blocks.length; i += 1) {\n      // eslint-disable-next-line no-await-in-loop\n      await loadBlock(blocks[i]);\n    }\n    if (loadCallback) await loadCallback(section);\n    section.dataset.sectionStatus = 'loaded';\n    section.style.display = null;\n  }\n}\n\n/**\n * Loads all sections.\n * @param {Element} element The parent element of sections to load\n */\n\nasync function loadSections(element) {\n  const sections = [...element.querySelectorAll('div.section')];\n  for (let i = 0; i < sections.length; i += 1) {\n    // eslint-disable-next-line no-await-in-loop\n    await loadSection(sections[i]);\n    if (i === 0 && sampleRUM.enhance) {\n      sampleRUM.enhance();\n    }\n  }\n}\n\ninit();\n\nexport {\n  buildBlock,\n  createOptimizedPicture,\n  decorateBlock,\n  decorateBlocks,\n  decorateButtons,\n  decorateIcons,\n  decorateSections,\n  decorateTemplateAndTheme,\n  fetchPlaceholders,\n  fetchConfig,\n  getMetadata,\n  loadBlock,\n  loadCSS,\n  loadFooter,\n  loadHeader,\n  loadScript,\n  loadSection,\n  loadSections,\n  readBlockConfig,\n  sampleRUM,\n  setup,\n  toCamelCase,\n  toClassName,\n  waitForFirstImage,\n  wrapTextNodes,\n};\n"],"file":"chunks/aem-D3RMVdVl.js"}